_id: 1ovEWVzSp5yZXeVm
_key: '!items!1ovEWVzSp5yZXeVm'
img: systems/pf1/icons/skills/yellow_14.jpg
name: Enlarge Person
system:
  changes:
    - _id: xRCU1fzc
      formula: '2'
      modifier: size
      priority: null
      subTarget: str
    - _id: 0mV4oumV
      formula: '-2'
      modifier: size
      priority: null
      subTarget: dex
    - _id: Arn47LiL
      formula: '-2'
      modifier: untyped
      priority: null
      subTarget: carryStr
    - _id: LgrZLyFq
      formula: '-.5'
      modifier: untyped
      priority: null
      subTarget: carryMult
  description:
    value: >-
      <p>See @UUID[Compendium.pf1.spells.jnlr9cuepka1l26e]{Enlarge Person} spell
      for details.</p><p>Included carry capacity adjustments partially account
      for your gear not changing in size.</p>
  duration:
    units: minute
    value: '@item.level'
  level: 1
  scriptCalls:
    - _id: jqq7XX7qM19jsC6N
      category: toggle
      hidden: false
      img: icons/svg/dice-target.svg
      name: Toggle Actor Size (Enlarge)
      type: script
      value: "if (!actor) return;\n\nconst defaultSize = 'med'; // Fallback if no size info is found\nconst naturalSize = actor.race?.system.size || defaultSize;\nconst currentSize = actor.system.traits?.size || defaultSize;\n\nlet newSize = naturalSize;\nif (state) {\n\tconst steps = Object.keys(pf1.config.sizeChart);\n\tconst current = steps.indexOf(currentSize);\n\tconst adjusted = Math.clamped(current + 1, 0, steps.length - 1);\n\tnewSize = steps[adjusted];\n}\n\nactor.update({ 'system.traits.size': newSize });\n"
type: buff

